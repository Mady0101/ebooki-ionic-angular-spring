<ion-header>
<ion-toolbar color="warning">
  <ion-text slot="start">
    {{userId}}#{{username}}
  </ion-text>
  <ion-buttons slot="end">
    <ion-button  (click)="logout()">Logout</ion-button>
  </ion-buttons>
</ion-toolbar>
<ion-toolbar color="warning">
  <ion-searchbar debounce="500" (ionChange)="searchChange($event)" animated></ion-searchbar>
</ion-toolbar>
</ion-header>
  <ion-content fullscreen class="ion-padding">

 <div *ngIf="searchedItems ==null"> 

  <ion-text color="light"><h1>Most Liked Books</h1></ion-text>
<ion-slides [options]="option" class="ion-margin-top">
  <ion-slide *ngFor="let book of listBooksMostLikes" >
    <ion-card class="favCard" >
      <ion-card-content expand="block" class="info">
        <img src="{{book.img}}">
      <p>{{book.nom}}</p>
      <ion-item>
        <ion-label>{{book.vues}}</ion-label>
      <ion-icon name="eye"></ion-icon>
    </ion-item>
    <ion-item>
    <ion-label>{{book.jaimes}}</ion-label>
    <ion-button ion-button icon-only (click)="incrementLikes(book)">
      <ion-icon  name="thumbs-up"></ion-icon>
    </ion-button>
    </ion-item>
      <ion-button Size="small" (click)="detail(book)">details</ion-button>
    </ion-card-content>
    </ion-card>
  </ion-slide>
</ion-slides>

 <ion-text color="light"><h1>Most Vued Books</h1></ion-text>
<ion-slides [options]="option" class="ion-margin-top">
  <ion-slide *ngFor="let book of listBooksMostVues" >
    <ion-card class="favCard" >
      <ion-card-content expand="block" class="info">
        <img src="{{book.img}}">
      <p>{{book.nom}}</p>
      <ion-item>
        <ion-label>{{book.vues}}</ion-label>
      <ion-icon name="eye"></ion-icon>
    </ion-item>
    <ion-item>
    <ion-label>{{book.jaimes}}</ion-label>
    <ion-button ion-button icon-only (click)="incrementLikes(book)">
      <ion-icon  name="thumbs-up"></ion-icon>
    </ion-button>
    </ion-item>
      <ion-button Size="small" (click)="detail(book)">details</ion-button>
    </ion-card-content>
    </ion-card>
  </ion-slide>
</ion-slides>


</div>


<div *ngIf="searchedItems"> 
  <div *ngIf="errorSearch">
    <ion-text color="danger"><h1>{{errorSearch}}</h1></ion-text>
  </div>
  <div  *ngIf="errorSearch == null">
  <ion-slides [options]="option" class="ion-margin-top">
    <ion-slide *ngFor="let item of searchedItems" >
      <ion-card class="favCard" >
        <ion-card-content expand="block" class="info">
          <img src="{{item.img}}">
        <p>{{item.nom}}</p>
        <ion-item>
          <ion-label>{{item.vues}}</ion-label>
        <ion-icon name="eye"></ion-icon>
      </ion-item>
      <ion-item>
      <ion-label>{{item.jaimes}}</ion-label>
      <ion-button ion-button icon-only (click)="incrementLikes(item)">
        <ion-icon  name="thumbs-up"></ion-icon>
      </ion-button>
      </ion-item>
        <ion-button Size="small" (click)="detail(book)">details</ion-button>
      </ion-card-content>
      </ion-card>
    </ion-slide>
  </ion-slides>
  </div>
  </div>
  

</ion-content>

